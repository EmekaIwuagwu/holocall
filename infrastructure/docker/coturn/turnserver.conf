# HoloCall Coturn TURN Server Configuration

# Listening ports
listening-port=3478
tls-listening-port=5349

# Relay ports (UDP)
min-port=49152
max-port=65535

# External and internal IPs
# Replace with your actual IP addresses
external-ip=YOUR_PUBLIC_IP/YOUR_PRIVATE_IP

# Realm for long-term credentials
realm=turn.holocall.com

# Enable verbose logging (disable in production)
verbose

# Use fingerprints in TURN messages
fingerprint

# Use long-term credential mechanism
lt-cred-mech

# Static auth secret for REST API
use-auth-secret
static-auth-secret=CHANGE_THIS_SECRET

# SSL certificates (Let's Encrypt recommended)
cert=/etc/coturn/certs/cert.pem
pkey=/etc/coturn/certs/privkey.pem

# Additional security options
no-tlsv1
no-tlsv1_1
no-stdout-log

# Database for user management (optional)
# userdb=/var/lib/coturn/turndb

# Bandwidth limits (optional)
# total-quota=100
# max-bps=1000000

# Disable TCP relay
no-tcp-relay

# Disable UDP relay (uncomment if only using TCP)
# no-udp-relay

# Deny peer-to-peer connections
no-multicast-peers

# Log file
log-file=/var/log/turnserver.log

# Mobility with ICE
mobility

# Disable CLI
no-cli

# Don't allow loopback addresses
no-loopback-peers

# Disable RFC5780 (NAT behavior discovery)
# Enable if needed for better NAT traversal
# stale-nonce

# Prometheus metrics (if coturn supports it)
# prometheus

# Max number of allowed allocations per session
# max-allocate-lifetime=3600

# Deny requests from RFC1918 addresses
denied-peer-ip=10.0.0.0-10.255.255.255
denied-peer-ip=172.16.0.0-172.31.255.255
denied-peer-ip=192.168.0.0-192.168.255.255

# Allow loopback only for testing
# allowed-peer-ip=127.0.0.1
